# Co:Lab Connect - Application Blueprint & Functional Spec

## 1. Project Overview
**App Name:** Co:Lab Connect
**Purpose:** A progressive web app (PWA) for the Co:Lab community in Pensacola, FL, allowing entrepreneurs and investors to connect, chat, and discover each other.
**Current State:** Frontend Mockup (React, Vite, Tailwind).
**Goal:** Transition to a fully functional full-stack application.

## 2. Tech Stack
- **Frontend:** React, TypeScript, Wouter (Routing), Tailwind CSS v4, Lucide Icons, Shadcn/UI (modified).
- **Backend (Target):** Node.js, Express, PostgreSQL (Drizzle ORM).
- **Authentication:** Passport.js (Local + OAuth potentially).

## 3. Navigation & Layout
- **Responsive Shell:**
  - **Mobile:** Bottom navigation bar with icons (Home, Directory, Chat). Theme toggle in top header. AI Helper is a floating action button or nav item.
  - **Desktop:** Left-side vertical sidebar navigation.
- **Theme Toggle:**
  - Located in the header (mobile) or sidebar (desktop).
  - Toggles between 'light' and 'dark' class on `<html>` element.
  - Persists preference to `localStorage`.

## 4. Screen Specifications

### A. Home Screen (`/`)
- **Hero Section:**
  - **Visual:** Colorful abstract graphic, welcome text.
  - **Data:** Dynamic "Active Members" count (future).
- **Primary Actions:**
  - **"Join the Community" (Scan QR):**
    - **Current Behavior:** Navigates to `/create-card`.
    - **Target Behavior:** Should open camera to scan a physical QR code at the building reception, which contains a unique invite token, then redirect to registration.
  - **"Browse People":**
    - **Behavior:** Navigates to `/directory`.
- **Trending Topics:**
  - **UI:** Horizontal scroll list of tags (e.g., #Hiring, #Events).
  - **Behavior:** Clicking a tag navigates to `/chat` with that topic pre-selected.

### B. Create Card / Registration (`/create-card`)
- **Purpose:** Onboarding for new users.
- **Form Fields:**
  - **Profile Photo:** Upload widget (needs S3/Blob storage integration).
  - **Name:** Text input.
  - **Role/Title:** Text input.
  - **Bio:** Textarea (max 280 chars).
  - **Specialty Tags:** Comma-separated input converted to array (e.g., "Fintech, Design").
  - **Social Links:** LinkedIn, Website, Instagram.
- **Submission Logic:**
  - **Current:** Mock redirect to Directory.
  - **Target:** POST to `/api/register`. Create User record. Store auth credentials.

### C. People Directory (`/directory`)
- **Search & Filter:**
  - **Search Bar:** Real-time text filter against Name, Role, and Tags.
  - **Filter Chips:** Horizontal list of unique tags derived from the user base.
- **User Cards:**
  - **Display:** Avatar, Name, Role, Bio snippet, Tags.
  - **Actions:**
    - **Connect:** Sends a connection request or direct message (needs backend `FriendRequest` table).
    - **Social Icons:** Open external links.
- **Data Source:** Currently mock `USERS` array. Needs `GET /api/users` with pagination.

### D. Topics & Chat (`/chat`)
- **Structure:**
  - **Topic List:** Sidebar or top bar (General, Hiring, Fundraising, Tech).
  - **Message Area:** Scrollable list of messages.
- **Features:**
  - **Real-time:** Needs WebSocket (Socket.io) implementation for live chat.
  - **History:** Persist messages in PostgreSQL `messages` table linked to `topics` and `users`.
  - **Input:** Text field with send button.
- **State:** Currently local React state (resets on refresh).

### E. AI Helper (Floating Action Button)
- **UI:** Slide-over sheet (mobile) or sidebar panel.
- **Functionality:**
  - **Chat Interface:** User asks questions ("Who is an investor?").
  - **Logic:**
    - **Current:** Mock setTimeout response.
    - **Target:** RAG (Retrieval-Augmented Generation) system.
      1. Embed user profiles and chat history into a vector database (e.g., pgvector).
      2. On query, retrieve relevant context.
      3. Send context + query to LLM (OpenAI/Anthropic).
      4. Return answer: "I found 3 investors: Marcus Johnson, ..."

## 5. Backend Requirements (To Be Built)
1.  **Database Schema:**
    - `users` (id, name, email, password_hash, role, bio, tags[], social_links{})
    - `topics` (id, slug, name)
    - `messages` (id, topic_id, user_id, content, created_at)
    - `connections` (follower_id, following_id, status)
2.  **API Endpoints:**
    - Auth: `/api/login`, `/api/logout`, `/api/register`
    - Users: `/api/users` (GET, search), `/api/users/:id` (GET, PUT)
    - Chat: `/api/topics`, `/api/messages/:topicId`
3.  **WebSockets:**
    - Handle `join_room`, `send_message`, `receive_message` events.

## 6. Design System Tokens
- **Colors:** defined in `index.css` (HSL values).
  - Primary: Teal (`--primary`)
  - Secondary: Coral (`--secondary`)
  - Background: Slate (`--background`)
- **Typography:**
  - Headings: `Outfit`
  - Body: `DM Sans`

---
*Generated by Replit Agent for Claude Code Opus 4.5*
